{"text": "---\nid: 130\nstate: approved\ncreated: 2023-03-13\nupdated: 2023-09-05\nplacement:\n  category: operations\n  order: 9\n---\n\n# Methods\n\nAn API is composed of one or more methods, which represent a specific operation\nthat a service can perform on behalf of the consumer.\n\n## Guidance\n\n### Categories of Methods\n\nThe following enumerates multiple categories of methods that exist, often\ngrouped up under some object (e.g. collection or resource) that the method\noperates upon.\n\n| Category Name                                                                                                                                                                                                                                         | Related AIPs                                       | [Declarative client][] integration | CLI / UI integration | SDK integration |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- | ---------------------------------- | -------------------- | --------------- |\n| *Standard Methods*                                                                                                                                                                                                                                    |                                                    |                                    |                      |                 |\n| **Standard collection methods**: operate on a collection of resources (List or Create).                                                                                                                                                               | [AIP-121][], [AIP-132][], [AIP-133][]              | automatable                        | automatable          | automatable     |\n| **Standard resource methods**: fetch or mutate a single resource (Get, Update, Delete).                                                                                                                                                               | [AIP-121][], [AIP-131][], [AIP-134][], [AIP-135][] | automatable                        | automatable          | automatable     |\n| **Batch resource methods**: fetch or mutate multiple resources in a collection by name.                                                                                                                                                               | [AIP-231][], [AIP-233][], [AIP-234][], [AIP-235][] | may be used to optimize queries    | automatable          | automatable     |\n| **Aggregated list methods**: fetch or mutate multiple resources of the same type across multiple collections.                                                                                                                                         | [AIP-159][]                                        | not useful nor automatable           | automatable          | automatable     |\n| *Custom Fetch Methods*                                                                                                                                                                                                                                |                                                    |                                    |                      |                 |\n| **Custom collection fetch methods**: fetch information across a collection that cannot be expressed via a standard method.                                                                                                                            | [AIP-136][]                                        | handwritten                        | automatable          | automatable     |\n| **Custom resource fetch methods**: fetch information for a single resource that cannot be expressed via a standard method.                                                                                                                            | [AIP-136][]                                        | handwritten                        | automatable          | automatable     |\n| *Custom Mutation Methods*                                                                                                                                                                                                                             |                                                    |                                    |                      |                 |\n| **Backing up a resource**: storing a copy of a resource at a particular point in time.                                                                                                                                                                | [AIP-162][]                                        | unused or handwritten              | automatable          | automatable     |\n| **Restoring a resource**: setting a resource to a version from a particular point in time.                                                                                                                                                            | [AIP-162][]                                        | unused or handwritten              | automatable          | automatable     |\n| **Renaming a resource**: modify the resource's name or id while preserving configuration and data.                                                                                                                                                    | [AIP-136][]                                        | unused or handwritten              | automatable          | automatable     |\n| **Custom collection mutation methods**: perform an imperative operation referencing a collection that may mutate one or more resources within that collection in fashion that cannot be easily achieved by standard methods (e.g. state transitions). | [AIP-136][]                                        | unused or handwritten              | automatable          | automatable     |\n| **Custom resource mutation methods**: perform an imperative operation on a resource that may mutate it in a way a standard method cannot (e.g. state transitions).                                                                                    | [AIP-136][]                                        | unused or handwritten              | automatable          | automatable     |\n| *Misc Custom Methods*                                                                                                                                                                                                                                 |                                                    |                                    |                      |\n| **Stateless Methods**: a method that has no permanent effect on any data within the API (e.g. translating text)                                                                                                                                       | [AIP-136][]                                        | unused or handwritten              | automatable          | automatable     |\n| *None of the above*                                                                                                                                                                                                                                   |                                                    |                                    |                      |                 |\n| **Streaming methods**: methods that communicate via client, server, or bi-directional streams.                                                                                                                                                        |                                                    | handwritten                        | handwritten          | automatable     |\n\n### Choosing a method category\n\nWhile designing a method, API authors should choose from the defined categories\nin the following order:\n\n1. Standard methods (on collections and resources)\n1. Standard batch or aggregate methods\n1. Custom methods (on collections, resources, or stateless)\n1. Streaming methods\n\n## Rationale\n\nResource-oriented standard and custom methods are recommended first, as they can\nbe expressed in the widest variety of clients (Declarative clients, CLIs, UIs, and so on), and\noffer the most uniform experience that allows users to apply their knowledge of\none API to another.\n\nIf a standard method is unsuitable, then custom methods (that are mounted to a\nresource or collection) offer a lesser, but still valuable level of consistency,\nhelping the user reason about the scope of the action and the object whose\nconfiguration is read to inform that action. Although mutative custom methods\nare not uniform enough to have a automated integration with exclusively\nresource-oriented clients such as [Declarative client][]s, they are still a pattern that\ncan easily recognized by CLIs, UIs, and SDKs.\n\nIf one cannot express their APIs in a resource-oriented fashion at all, then the\noperation falls in a category where the lack of uniformity makes it difficult\nfor any client aside from SDKs to model the operation. This category is\npreferred last due to the fact that a user cannot rely on their knowledge of\nsimilar APIs, as well as the issue that integration with many clients will\nlikely have to be hand-written.\n\n[AIP-121]: ./0121.md\n[AIP-131]: ./0131.md\n[AIP-132]: ./0132.md\n[AIP-133]: ./0133.md\n[AIP-134]: ./0134.md\n[AIP-135]: ./0135.md\n[AIP-136]: ./0136.md\n[AIP-159]: ./0159.md\n[AIP-162]: ./0162.md\n[AIP-231]: ./0231.md\n[AIP-233]: ./0233.md\n[AIP-234]: ./0234.md\n[AIP-235]: ./0235.md\n[Declarative client]: ./0009.md#declarative-clients\n\n## Changelog\n\n- **2023-09-05**: Update to approved."}