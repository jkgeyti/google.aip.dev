{"text": "---\nid: 3022\nstate: approved\ncreated: 2020-01-30\n---\n\n# Built-in intent arguments and fulfillment APIs\n\nActions on Google's [built-in intents][bii] (BIIs) are a _fulfillment schema_,\nand use Schema.org as a foreign vocabulary. BIIs are _not_ a fulfillment API,\nand do not use the Actions on Google common types defined in [AIP-3021][].\n\nActions on Google has two types of generic fulfillment APIs:\n\n- URI-based APIs like [App Actions][], which can only support string arguments.\n- Google standard APIs, which support JSON primitive types like `string` and\n  the Actions on Google common types.\n\nThese APIs do not support Schema.org JSON-LD objects. These APIs **should**\nsupport BII arguments by mapping them, or their properties, to the argument\ntype schema they _do_ support. For example, a BII argument of type\n[MonetaryAmount][schema-monetaryamount] may be mapped to an API field of type\n[Money][].\n\n## BII argument paths\n\nOnly certain Schema.org entity types should be mapped to a given common type.\nIn order to support BII arguments with types that cannot be mapped to an\nappropriate type, APIs **may** support configuration via BII argument paths,\nstrings which allow users to specify a property of a Schema.org entity which\n_can_ be mapped to an appropriate type.\n\nAPIs which support BII argument paths **should** use the syntax defined in this\nsection.\n\nBII argument paths are dot-delimited strings that identify a specific\nSchema.org entity within the list of arguments to the BII.\n\nFor example, take the following hypothetical BII arguments `grant` and `date`:\n\n```json\n{\n  \"grant\": {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"MonetaryGrant\",\n    \"funder\": {\n      \"@type\": \"Organization\",\n      \"name\": \"Google\"\n    },\n    \"amount\": {\n      \"@type\": \"MonetaryAmount\",\n      \"currency\": \"USD\",\n      \"value\": 100\n    }\n  },\n  \"date\": \"2000-01-01\"\n}\n```\n\nThere is no common type to which `MonetaryGrant` can be mapped, but the `grant`\nargument contains an `amount` property of type\n[MonetaryAmount][schema-monetaryamount], which _can_ be mapped to [Money][].\nThis property can be referenced with the path string `\"grant.amount\"`.\nSimilarly, `grant.name` can be mapped to a string field.\n\nA URI-based API which does not support [Money][] would instead need to use the\npath strings `\"grant.amount.currency\"` and `\"grant.amount.value\"` to map\n`grant.amount` to two separate URI parameters.\n\nOn the other hand, `date` can be mapped to [DateTime][], and so the path string\n`\"date\"` would be sufficient for either URI-based APIs or string fields in JSON\nAPIs.\n\n### Properties with multiple values\n\nSince any Schema.org property may have multiple values, values other than the\nfirst may be referenced by indexing with square brackets. For example, take\nthis hypothetical BII argument:\n\n```json\n{\n  \"menuItem\": {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"MenuItem\",\n    \"name\": \"pizza\",\n    \"menuAddOn\": {\n      \"@type\": \"MenuItem\",\n      \"name\": \"pineapple\"\n    },\n    \"menuAddOn\": {\n      \"@type\": \"MenuItem\",\n      \"name\": \"extra cheese\"\n    }\n  },\n  \"date\": \"2000-01-01\"\n}\n```\n\nIn this example, the path `\"menuItem.menuAddOn[1].name\"` would evaluate to\n`\"extra cheese\"`.\n\nWhen there are no square brackets, the first value is assumed; using `[0]` is a\nno-op. That is, `\"menuItem.menuAddOn.name\"` and `\"menuItem.menuAddOn[0].name\"`\nare equivalent, and would _both_ evaluate to `\"pineapple\"`.\n\n## BII argument to common type mappings\n\nGoogle standard APIs which support BII argument mapping **should** support at\nleast these type mappings from Schema.org entity type to Actions on Google\ncommon types:\n\n| Common type       | Schema.org entity types                                      |\n| ----------------- | ------------------------------------------------------------ |\n| [Date][]          | [Date][schema-date]                                          |\n| [DateTime][]      | [DateTime][schema-datetime]                                  |\n| [TimeOfDay][]     | [Time][schema-time]                                          |\n| [Duration][]      | [Duration][schema-duration]                                  |\n| [Money][]         | [MonetaryAmount][schema-monetaryamount]                      |\n| [PostalAddress][] | [Place][schema-place], [PostalAddress][schema-postaladdress] |\n\n## BII argument to JSON type mappings\n\nGoogle standard APIs which support BII argument mapping **should** support at\nleast these type mappings from Schema.org entity type to JSON type:\n\n| JSON type | Schema.org entity types   |\n| --------- | ------------------------- |\n| `string`  | [Text][schema-text]       |\n| `number`  | [Number][schema-number]   |\n| `bool`    | [Boolean][schema-boolean] |\n\n## BII argument to string mappings\n\nURI-based fulfillment APIs like [App Actions][] can only map BII arguments to\nstrings (URI parameters). These APIs **should** support mapping at least the\nfollowing Schema.org entity types to URI parameters:\n\n- [Text][schema-text]\n- [Number][schema-number]\n- [Boolean][schema-boolean]\n- [Date][schema-date]\n- [DateTime][schema-datetime]\n- [Time][schema-time]\n\n<!-- prettier-ignore-start -->\n[aip-3021]: ./3021.md\n[date]: https://github.com/googleapis/googleapis/tree/master/google/type/date.proto\n[datetime]: https://github.com/googleapis/googleapis/blob/master/google/type/datetime.proto\n[timeofday]: https://github.com/googleapis/googleapis/tree/master/google/type/timeofday.proto\n[duration]: https://github.com/protocolbuffers/protobuf/tree/master/src/google/protobuf/duration.proto\n[money]: https://github.com/googleapis/googleapis/tree/master/google/type/money.proto\n[postaladdress]: https://github.com/googleapis/googleapis/tree/master/google/type/postal_address.proto\n[app actions]: https://developers.google.com/assistant/app/intents#handling_intent_parameters\n[schema-date]: https://schema.org/Date\n[schema-datetime]: https://schema.org/DateTime\n[schema-time]: https://schema.org/Time\n[schema-duration]: http://schema.org/Duration\n[schema-monetaryamount]: https://schema.org/MonetaryAmount\n[schema-place]: https://schema.org/Place\n[schema-postaladdress]: https://schema.org/PostalAddress\n[schema-text]: https://schema.org/Text\n[schema-number]: https://schema.org/Number\n[schema-boolean]: https://schema.org/Boolean\n[bii]: https://developers.google.com/assistant/app/reference/built-in-intents/\n<!-- prettier-ignore-end -->\n"}